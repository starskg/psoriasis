# üß¨ –ü—Å–æ—Ä–∏–∞–∑ –ò–º–º—É–Ω –¢–∏–∑–∏–º–∏ –°–∏–º—É–ª—è—Ü–∏—è—Å–∏

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ –≤–∏–∑—É–∞–ª —Å–∏–º—É–ª—è—Ü–∏—è - –ø—Å–æ—Ä–∏–∞–∑ –∫–∞—Å–∞–ª–ª–∏–≥–∏–¥–∞ –∞—É—Ç–æ–∏–º–º—É–Ω —Ä–µ–∞–∫—Ü–∏—è –∑–∞–Ω–∂–∏—Ä–∏–Ω–∏ –∫—û—Ä—Å–∞—Ç–∞–¥–∏.

![React](https://img.shields.io/badge/React-18.x-61DAFB?logo=react)
![TypeScript](https://img.shields.io/badge/TypeScript-5.x-3178C6?logo=typescript)
![Vite](https://img.shields.io/badge/Vite-5.x-646CFF?logo=vite)

---

## üìã –õ–æ–π–∏“≥–∞ —Ç–∞–≤—Å–∏—Ñ–∏

–ë—É –ª–æ–π–∏“≥–∞ –ø—Å–æ—Ä–∏–∞–∑ –∫–∞—Å–∞–ª–ª–∏–≥–∏–¥–∞–≥–∏ –∏–º–º—É–Ω —Ç–∏–∑–∏–º–∏ —Ä–µ–∞–∫—Ü–∏—è—Å–∏–Ω–∏ –≤–∏–∑—É–∞–ª —Ç–∞—Å–≤–∏—Ä–ª–∞–π–¥–∏. –§–æ–π–¥–∞–ª–∞–Ω—É–≤—á–∏ “≥—É–∂–∞–π—Ä–∞–ª–∞—Ä–Ω–∏–Ω–≥ —û–∑–∞—Ä–æ —Ç–∞—ä—Å–∏—Ä–∏–Ω–∏ —Ä–µ–∞–ª –≤–∞“õ—Ç–¥–∞ –∫—É–∑–∞—Ç–∏—à–∏ –º—É–º–∫–∏–Ω.

### üéØ –ê—Å–æ—Å–∏–π —Ö—É—Å—É—Å–∏—è—Ç–ª–∞—Ä:
- **–†–µ–∞–ª –≤–∞“õ—Ç —Å–∏–º—É–ª—è—Ü–∏—è—Å–∏** - –∏–º–º—É–Ω “≥—É–∂–∞–π—Ä–∞–ª–∞—Ä–∏ “≥–∞—Ä–∞–∫–∞—Ç–∏
- **–î–µ–º–æ/–é“õ—É–≤ —Ä–µ–∂–∏–º–∏** - “õ–∞–¥–∞–º-–±–∞-“õ–∞–¥–∞–º —Ç—É—à—É–Ω—Ç–∏—Ä–∏—à –±–∏–ª–∞–Ω
- **–î–æ—Ä–∏-–¥–∞—Ä–º–æ–Ω —Å–∏–º—É–ª—è—Ü–∏—è—Å–∏** - –¥–∞–≤–æ–ª–∞—à —ç—Ñ—Ñ–µ–∫—Ç–ª–∞—Ä–∏
- **AI –ù–∞—Ä—Ä–∞—Ç–∏–≤** - Gemini API –æ—Ä“õ–∞–ª–∏ –¥–∏–Ω–∞–º–∏–∫ –º–∞—Ç–Ω

---

## üèóÔ∏è –õ–æ–π–∏“≥–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Å–∏

```
psoriaz/
‚îú‚îÄ‚îÄ App.tsx                    # –ê—Å–æ—Å–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, state management
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ MicroCanvas.tsx        # Canvas —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, —Å–∏–º—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∞—Å–∏
‚îÇ   ‚îî‚îÄ‚îÄ Dashboard.tsx          # UI –ø–∞–Ω–µ–ª–ª–∞—Ä–∏, –±–æ—à“õ–∞—Ä—É–≤ —ç–ª–µ–º–µ–Ω—Ç–ª–∞—Ä–∏
‚îú‚îÄ‚îÄ types.ts                   # TypeScript —Ç—É—Ä–ª–∞—Ä–∏ –≤–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–ª–∞—Ä
‚îú‚îÄ‚îÄ constants.ts               # “≤—É–∂–∞–π—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–ª–∞—Ä–∏
‚îú‚îÄ‚îÄ geminiService.ts           # Gemini AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Å–∏
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ audio.ts               # –û–≤–æ–∑ —ç—Ñ—Ñ–µ–∫—Ç–ª–∞—Ä–∏
```

---

## üß¨ “≤—É–∂–∞–π—Ä–∞ —Ç—É—Ä–ª–∞—Ä–∏ (`types.ts`, `constants.ts`)

| –¢—É—Ä | –ù–æ–º | –†–∞–Ω–≥ | –í–∞–∑–∏—Ñ–∞ |
|-----|-----|------|--------|
| `SKIN` | –¢–µ—Ä–∏ “≥—É–∂–∞–π—Ä–∞—Å–∏ | –Ø—à–∏–ª | “≤—É–∂—É–º “õ–∏–ª–∏–Ω–∞–¥–∏–≥–∞–Ω —Å–æ“ì–ª–æ–º “≥—É–∂–∞–π—Ä–∞ |
| `DENDRITIC` | –î–µ–Ω–¥—Ä–∏—Ç–∏–∫ “≥—É–∂–∞–π—Ä–∞ | –°–∞—Ä–∏“õ | –ê–Ω—Ç–∏–≥–µ–Ω–Ω–∏ —Ç–æ–ø–∞–¥–∏ –≤–∞ —Å–∏–≥–Ω–∞–ª –±–µ—Ä–∞–¥–∏ |
| `T_CD4` | T-—Ö–µ–ª–ø–µ—Ä | “ö–∏–∑“ì–∏—à | –ò–º–º—É–Ω –∂–∞–≤–æ–±–Ω–∏ –±–æ—à“õ–∞—Ä–∞–¥–∏ |
| `T_CD8` | T-–∫–∏–ª–ª–µ—Ä | “ö–∏–∑–∏–ª | “≤—É–∂–∞–π—Ä–∞–ª–∞—Ä–Ω–∏ —û–ª–¥–∏—Ä–∞–¥–∏ |
| `CYTOKINE` | –¶–∏—Ç–æ–∫–∏–Ω | –°–∞—Ä–∏“õ (–∫–∏—á–∏–∫) | –•–∞–±–∞—Ä—á–∏ –º–æ–ª–µ–∫—É–ª–∞ |
| `ANTIGEN` | –ê–Ω—Ç–∏–≥–µ–Ω | “ö–æ—Ä–∞+“õ–∏–∑–∏–ª | –Å—Ç –æ—Ä–≥–∞–Ω–∏–∑–º (—Ç—Ä–∏–≥–≥–µ—Ä) |
| `DRUG` | –î–æ—Ä–∏ | –Ø—à–∏–ª | –î–∞–≤–æ–ª–∞—à |

---

## üé¨ –î–µ–º–æ —Ä–µ–∂–∏–º–∏

### “ö–∞–¥–∞–º–ª–∞—Ä (`DemoStep` enum):
1. `ANTIGEN_APPEARS` - –ê–Ω—Ç–∏–≥–µ–Ω –ø–∞–π–¥–æ –±—û–ª–∞–¥–∏
2. `DENDRITIC_CAPTURES` - –î–µ–Ω–¥—Ä–∏—Ç –∞–Ω—Ç–∏–≥–µ–Ω–Ω–∏ —Ç—É—Ç–∞–¥–∏
3. `THELPER_ACTIVATES` - T-—Ö–µ–ª–ø–µ—Ä —Ñ–∞–æ–ª–ª–∞—à–∞–¥–∏
4. `CYTOKINE_RELEASE` - –¶–∏—Ç–æ–∫–∏–Ω–ª–∞—Ä —á–∏“õ–∞—Ä–∏–ª–∞–¥–∏
5. `TKILLER_ACTIVATES` - T-–∫–∏–ª–ª–µ—Ä —Ñ–∞–æ–ª–ª–∞—à–∞–¥–∏
6. `SKIN_ATTACK` - –¢–µ—Ä–∏ “≥—É–∂–∞–π—Ä–∞—Å–∏ “≥—É–∂—É–º–≥–∞ —É—á—Ä–∞–π–¥–∏
7. `COMPLETE` - –î–µ–º–æ —Ç—É–≥–∞–¥–∏

### –î–µ–º–æ —Ä–µ–∂–∏–º–∏ —Ö—É—Å—É—Å–∏—è—Ç–ª–∞—Ä–∏:
- **–ö–∞–º–µ—Ä–∞ —Ñ–æ–∫—É—Å–∏** - “≤–∞—Ä “õ–∞–¥–∞–º–¥–∞ —Ñ–∞–æ–ª “≥—É–∂–∞–π—Ä–∞–≥–∞ zoom (2.2x)
- **Spotlight —ç—Ñ—Ñ–µ–∫—Ç–∏** - –§–æ–∫—É—Å–ª–∞–Ω–≥–∞–Ω —Å–æ“≥–∞ —ë—Ä—É“ì–ª–∞–Ω–∞–¥–∏
- **–°—Ç—Ä–µ–ª–∫–∞–ª–∞—Ä** - “≤—É–∂–∞–π—Ä–∞–ª–∞—Ä –æ—Ä–∞—Å–∏–¥–∞ –∞–Ω–∏–º–∞—Ü–∏—è–ª–∞—à–≥–∞–Ω —Å—Ç—Ä–µ–ª–∫–∞–ª–∞—Ä
- **–ú–∞—Ç–Ω–ª–∏ –∏–∑–æ“≥–ª–∞—Ä** - Canvas —É—Å—Ç–∏–¥–∞ —Ä—É—Å —Ç–∏–ª–∏–¥–∞ —Ç—É—à—É–Ω—Ç–∏—Ä–∏—à
- **–Æ“õ–æ—Ä–∏ –±–∞–Ω–Ω–µ—Ä** - “ö–∞–¥–∞–º —Ä–∞“õ–∞–º–∏, –Ω–æ–º–∏, —Ç–∞–≤—Å–∏—Ñ–∏
- **–ü—Ä–æ–≥—Ä–µ—Å—Å –∫—û—Ä—Å–∞—Ç–∫–∏—á–∏** - 6 —Ç–∞ —Ç–æ—á–∫–∞

---

## üìÅ –ê—Å–æ—Å–∏–π —Ñ–∞–π–ª–ª–∞—Ä —Ç–∞–≤—Å–∏—Ñ–∏

### `App.tsx`
- **SimulationState** - –ê—Å–æ—Å–∏–π —Å–∏–º—É–ª—è—Ü–∏—è “≥–æ–ª–∞—Ç–∏
- **DemoState** - –î–µ–º–æ —Ä–µ–∂–∏–º–∏ “≥–æ–ª–∞—Ç–∏
- **timeState** - –í–∞“õ—Ç –±–æ—à“õ–∞—Ä—É–≤–∏ (day, timeScale, isPaused)
- –î–µ–º–æ —Ä–µ–∂–∏–º–∏ callback —Ñ—É–Ω–∫—Ü–∏—è–ª–∞—Ä–∏: `startDemo`, `stopDemo`, `nextDemoStep`, `prevDemoStep`

### `MicroCanvas.tsx`
–≠–Ω–≥ –∫–∞—Ç—Ç–∞ –≤–∞ –º—É“≥–∏–º —Ñ–∞–π–ª - canvas —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤–∞ —Å–∏–º—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∞—Å–∏.

#### –ê—Å–æ—Å–∏–π —Ñ—É–Ω–∫—Ü–∏—è–ª–∞—Ä:
- `createParticle()` - –Ø–Ω–≥–∏ “≥—É–∂–∞–π—Ä–∞ —è—Ä–∞—Ç–∏—à
- `drawOrganicCell()` - “≤—É–∂–∞–π—Ä–∞–Ω–∏ —á–∏–∑–∏—à (—Ä–∞–Ω–≥, glow, label, status badge)
- `drawArrow()` - –î–µ–º–æ —Ä–µ–∂–∏–º–∏–¥–∞ —Å—Ç—Ä–µ–ª–∫–∞–ª–∞—Ä —á–∏–∑–∏—à
- `drawTextBox()` - –î–µ–º–æ —Ä–µ–∂–∏–º–∏–¥–∞ –º–∞—Ç–Ω–ª–∏ “õ—É—Ç–∏–ª–∞—Ä
- `draw()` - –ü–∞—É–∑–∞–¥–∞/–¥–µ–º–æ–¥–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- `update()` - –ê—Å–æ—Å–∏–π —Å–∏–º—É–ª—è—Ü–∏—è —Ü–∏–∫–ª–∏

#### –°–∏–º—É–ª—è—Ü–∏—è –ª–æ–≥–∏–∫–∞—Å–∏ (`update` —Ñ—É–Ω–∫—Ü–∏—è—Å–∏):
1. **–ê–Ω—Ç–∏–≥–µ–Ω spawn** - `isAlertActive` —ë–∫–∏ `cytokineLevel > 50` –±—û–ª—Å–∞
2. **–î–µ–Ω–¥—Ä–∏—Ç –ª–æ–≥–∏–∫–∞—Å–∏**:
   - –ê–Ω—Ç–∏–≥–µ–Ω–Ω–∏ –∏–∑–ª–∞–π–¥–∏ –≤–∞ —Ç—É—Ç–∞–¥–∏
   - T-—Ö–µ–ª–ø–µ—Ä–≥–∞ —Å–∏–≥–Ω–∞–ª –±–µ—Ä–∞–¥–∏
3. **T-—Ö–µ–ª–ø–µ—Ä –ª–æ–≥–∏–∫–∞—Å–∏**:
   - –§–∞–æ–ª–ª–∞—à–≥–∞–Ω–¥–∞ —Ü–∏—Ç–æ–∫–∏–Ω —á–∏“õ–∞—Ä–∞–¥–∏
4. **–¶–∏—Ç–æ–∫–∏–Ω –ª–æ–≥–∏–∫–∞—Å–∏**:
   - T-–∫–∏–ª–ª–µ—Ä–Ω–∏ —Ç–æ–ø–∏–±, —Ñ–∞–æ–ª–ª–∞—à—Ç–∏—Ä–∞–¥–∏
5. **T-–∫–∏–ª–ª–µ—Ä –ª–æ–≥–∏–∫–∞—Å–∏**:
   - –¢–µ—Ä–∏ “≥—É–∂–∞–π—Ä–∞–ª–∞—Ä–∏–Ω–∏ “≥—É–∂—É–º “õ–∏–ª–∞–¥–∏
6. **–î–æ—Ä–∏ –ª–æ–≥–∏–∫–∞—Å–∏**:
   - –ê–Ω—Ç–∏–≥–µ–Ω–ª–∞—Ä–Ω–∏ —ë–∫–∏ —Ñ–∞–æ–ª “≥—É–∂–∞–π—Ä–∞–ª–∞—Ä–Ω–∏ –Ω–µ–π—Ç—Ä–∞–ª–ª–∞–π–¥–∏

#### –¢–µ–∑–ª–∏–∫ —á–µ–≥–∞—Ä–∞–ª–∞—Ä–∏:
| “≤—É–∂–∞–π—Ä–∞ | –¢–µ–∑–ª–∞–Ω–∏—à | –ú–∞–∫—Å. —Ç–µ–∑–ª–∏–∫ |
|---------|----------|--------------|
| –î–µ–Ω–¥—Ä–∏—Ç | 0.08 | 0.8 |
| T-—Ö–µ–ª–ø–µ—Ä | - | 0.6 |
| –¶–∏—Ç–æ–∫–∏–Ω | 0.12 | 1.0 |
| T-–∫–∏–ª–ª–µ—Ä | 0.1 | 0.7 |
| –î–æ—Ä–∏ | 0.15 | 1.0 |

### `Dashboard.tsx`
UI –ø–∞–Ω–µ–ª–ª–∞—Ä–∏:
- **StatsContent** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (killed/saved, cytokine level, stress)
- **ControlsContent** - –ë–æ—à“õ–∞—Ä—É–≤ (–¥–æ—Ä–∏ —Ç–∞–Ω–ª–∞—à, —Ç–µ—Ä–∞–ø–∏—è, –∫–∞—Å–∫–∞–¥)
- **DemoPanel** - –î–µ–º–æ —Ä–µ–∂–∏–º–∏ UI (start/stop, progress, navigation)

### `types.ts`
```typescript
// –ê—Å–æ—Å–∏–π —Ç—É—Ä–ª–∞—Ä:
enum CellType { SKIN, T_CD4, T_CD8, DENDRITIC, CYTOKINE, ANTIGEN, DRUG, ... }
enum DrugType { OINTMENT, PILL, INJECTION }
enum DemoStep { IDLE, ANTIGEN_APPEARS, ..., COMPLETE }

interface Particle { id, type, x, y, vx, vy, health, isActive, hasAntigen, ... }
interface DemoState { isActive, currentStep, stepProgress, autoPlay, focusTarget }
interface SimulationState { cytokineLevel, aggressionLevel, stressLevel, isAlertActive, ... }

const DEMO_STEP_INFO // “≤–∞—Ä –±–∏—Ä “õ–∞–¥–∞–º —Ç–∞–≤—Å–∏—Ñ–∏ (—Ä—É—Å —Ç–∏–ª–∏–¥–∞)
```

### `constants.ts`
```typescript
CELL_CONFIGS = {
  [CellType.XXX]: { radius, color, glow, speed, health, label }
}

PSORIASIS_STAGES = { HEALTHY, PRODROMAL, ACUTE, REMISSION }
```

---

## üöÄ –ò—à–≥–∞ —Ç—É—à–∏—Ä–∏—à

```bash
# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–ª–∞—Ä–Ω–∏ —û—Ä–Ω–∞—Ç–∏—à
npm install

# Development server
npm run dev

# Production build
npm run build
```

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Gemini API
`.env.local` —Ñ–∞–π–ª–∏–¥–∞:
```
VITE_GEMINI_API_KEY=your_api_key_here
```

---

## üé® –í–∏–∑—É–∞–ª —ç—Ñ—Ñ–µ–∫—Ç–ª–∞—Ä

### “≤—É–∂–∞–π—Ä–∞ —Å—Ç–∞—Ç—É—Å–ª–∞—Ä–∏:
- `‚ö†Ô∏è –ê–ö–¢–ò–í–ï–ù` - “ö–∏–∑–∏–ª badge (isActive=true)
- `‚ö° –°–ò–ì–ù–ê–õ` - –°–∞—Ä–∏“õ badge (hasAntigen=true)

### –ê–ª–æ“õ–∞ —á–∏–∑–∏“õ–ª–∞—Ä–∏:
- **–°–∞—Ä–∏“õ** - –î–µ–Ω–¥—Ä–∏—Ç ‚Üí –ê–Ω—Ç–∏–≥–µ–Ω
- **“ö–∏–∑–∏–ª** - –î–µ–Ω–¥—Ä–∏—Ç ‚Üí T-—Ö–µ–ª–ø–µ—Ä
- **“ö—û–Ω“ì–∏—Ä** - T-–∫–∏–ª–ª–µ—Ä ‚Üí –¢–µ—Ä–∏

### –î–µ–º–æ —Ä–µ–∂–∏–º–∏ –≤–∏–∑—É–∞–ª–ª–∞—Ä–∏:
- Spotlight gradient (–±–∏–Ω–∞—Ñ—à–∞)
- –ü—É–ª—å—Å–∞—Ü–∏—è “≥–∞–ª“õ–∞ (dashed, animated)
- –ê–Ω–∏–º–∞—Ü–∏—è–ª–∞—à–≥–∞–Ω —Å—Ç—Ä–µ–ª–∫–∞–ª–∞—Ä
- –ú–∞—Ç–Ω–ª–∏ “õ—É—Ç–∏–ª–∞—Ä (glow —ç—Ñ—Ñ–µ–∫—Ç)

---

## üìù –ö–µ–ª–≥—É—Å–∏ –∏—à–ª–∞—Ä —É—á—É–Ω —Ç–∞–∫–ª–∏—Ñ–ª–∞—Ä

1. **–Ø–Ω–≥–∏ “≥—É–∂–∞–π—Ä–∞ —Ç—É—Ä–ª–∞—Ä–∏** - Macrophage, NK-cell —Ñ–∞–æ–ª –ª–æ–≥–∏–∫–∞—Å–∏
2. **“ö—û—à–∏–º—á–∞ –¥–æ—Ä–∏–ª–∞—Ä** - –¢—É—Ä–ª–∏ –¥–∞–≤–æ–ª–∞—à –º–µ—Ö–∞–Ω–∏–∑–º–ª–∞—Ä–∏
3. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–Ω–µ–ª–∏** - –ì—Ä–∞—Ñ–∏–∫–ª–∞—Ä, —Ç–∞—Ä–∏—Ö
4. **–ú–æ–±–∏–ª –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - Touch –±–æ—à“õ–∞—Ä—É–≤–∏
5. **–¢–∏–ª –∞–ª–º–∞—à—Ç–∏—Ä–∏—à** - –é–∑–±–µ–∫/–†—É—Å/–ò–Ω–≥–ª–∏–∑

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏–∫ –¥–µ—Ç–∞–ª–ª–∞—Ä

- **Canvas API** - 2D —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- **requestAnimationFrame** - –ê–Ω–∏–º–∞—Ü–∏—è —Ü–∏–∫–ª–∏
- **React useRef** - Particle –º–∞—Å—Å–∏–≤ reference
- **TypeScript** - Strict typing
- **Tailwind CSS** - –°—Ç–∏–ª–ª–∞—Ä

---

## üìû –ú—É“≥–∏–º —ç—Å–ª–∞—Ç–º–∞–ª–∞—Ä –∞–≥–µ–Ω—Ç —É—á—É–Ω:

1. **MicroCanvas.tsx** - —ç–Ω–≥ –∫–∞—Ç—Ç–∞ —Ñ–∞–π–ª (~1100 “õ–∞—Ç–æ—Ä), ehtiyotlik –±–∏–ª–∞–Ω —û–∑–≥–∞—Ä—Ç–∏—Ä–∏–Ω–≥
2. **–î–µ–º–æ —Ä–µ–∂–∏–º–∏** - `demoState.isActive` –±—û–ª—Å–∞, –æ–¥–¥–∏–π —Å–∏–º—É–ª—è—Ü–∏—è —Ç—û—Ö—Ç–∞–π–¥–∏
3. **–¢–µ–∑–ª–∏–∫–ª–∞—Ä** - `constants.ts` –¥–∞ speed, MicroCanvas –¥–∞ acceleration
4. **–û–≤–æ–∑–ª–∞—Ä** - `soundManager.playActivation()`, `playExplosion()`, `playHeal()`, `playAlert()`
5. **–ú–∞—Ç–Ω–ª–∞—Ä** - –†—É—Å —Ç–∏–ª–∏–¥–∞ (–¥–µ–º–æ —Ä–µ–∂–∏–º–∏)

---

*–û—Ö–∏—Ä–≥–∏ —è–Ω–≥–∏–ª–∞–Ω–∏—à: 2024-12-19*
